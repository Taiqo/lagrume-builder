import { select } from './utilities';

/**
 * modal class
 */
export default class Dropdown {
  constructor(selector) {
    this.el = select(selector);
    this.init();
  }

  /**
   * automatically init all modals in the page
   */
  static create() {
    const dropdowns = Array.from(document.querySelectorAll('.dropdown'));
    dropdowns.forEach((dropdown) => {
      new Dropdown(dropdown);
    });
  }

 /**
  * add event listeners to the modal elements
  * @param {HTMLElement} button
  * @param {HTMLElement} element
  */
  init() {
    this.button = this.el.querySelector('.button');
    this.menu = this.el.querySelector('.dropdown-menu');
    this.animating = false;

    this.initEvents();
  }

  initEvents() {
    this.button.addEventListener('click', this.toggleVisibility.bind(this), false);
  }
  /**
   * show hidden modal
   */
  toggleVisibility() {
    this.menu.classList.toggle('is-active');
  }
}
