{"remainingRequest":"/Users/killianpelletier/lagrume-builder/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/killianpelletier/lagrume-builder/src/Uploader.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/killianpelletier/lagrume-builder/src/Uploader.vue","mtime":1554846638000},{"path":"/Users/killianpelletier/lagrume-builder/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/killianpelletier/lagrume-builder/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/killianpelletier/lagrume-builder/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nexport default {\n  name: 'Uploader',\n  inject: ['$builder', '$section'],\n  props: {\n    path: {\n      type: String,\n      required: true\n    },\n    mode: {\n      default: 'input',\n      type: String\n    }\n  },\n  data: () => ({\n    src: ''\n  }),\n  created () {\n    this.src = this.$section.get(this.path);\n  },\n  methods: {\n    updateImage () {\n      const file = this.$refs.uploader.files[0];\n      if (!file) return;\n      const imageURL = URL.createObjectURL(file);\n\n      this.src = imageURL;\n      this.$section.set(this.path, imageURL);\n    }\n  }\n}\n",{"version":3,"sources":["Uploader.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Uploader.vue","sourceRoot":"src","sourcesContent":["<template lang=\"pug\">\n  div.uploader\n    img(:src=\"src\")\n    input.uploader-input(\n      type=\"file\"\n      ref=\"uploader\"\n      @change=\"updateImage\"\n      v-if=\"$builder.isEditing && mode === 'input'\"\n    )\n</template>\n\n<script>\nexport default {\n  name: 'Uploader',\n  inject: ['$builder', '$section'],\n  props: {\n    path: {\n      type: String,\n      required: true\n    },\n    mode: {\n      default: 'input',\n      type: String\n    }\n  },\n  data: () => ({\n    src: ''\n  }),\n  created () {\n    this.src = this.$section.get(this.path);\n  },\n  methods: {\n    updateImage () {\n      const file = this.$refs.uploader.files[0];\n      if (!file) return;\n      const imageURL = URL.createObjectURL(file);\n\n      this.src = imageURL;\n      this.$section.set(this.path, imageURL);\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n\n.uploader\n  position: relative\n  cursor: pointer\n  outline: none\n  &-input\n    position: absolute\n    top: 0\n    right: 0\n    bottom: 0\n    left: 0\n    width: 100%\n    opacity: 0\n    z-index: 100\n    cursor: pointer\n  >img\n    width: 100%\n    display: block\n  &:hover\n    box-shadow: 0 0 0 2px $gray\n</style>\n"]}]}